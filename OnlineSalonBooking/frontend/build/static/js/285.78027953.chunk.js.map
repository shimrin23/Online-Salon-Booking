{"version":3,"file":"static/js/285.78027953.chunk.js","mappings":"sOAQAA,EAAAA,EAAAA,SAAAA,QAAyBC,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,wBA2KrC,UAzKA,WACE,OAAwBC,EAAAA,EAAAA,UAAS,IAAG,eAA7BC,EAAI,KAAEC,EAAO,KACpB,GAA8BF,EAAAA,EAAAA,WAAS,GAAM,eAAtCG,EAAO,KAAEC,EAAU,KAC1B,GAAsCJ,EAAAA,EAAAA,UAAS,CAC7CK,UAAW,GACXC,SAAU,GACVC,MAAO,GACPC,SAAU,GACVC,aAAc,KACd,eANKC,EAAW,KAAEC,EAAc,KAQ5BC,GAAWC,EAAAA,EAAAA,MAGXC,EAAc,SAACC,GACnB,MAAwBA,EAAEC,OAAlBC,EAAI,EAAJA,KAAMC,EAAK,EAALA,MACdP,GAAe,SAACQ,GAAI,yBAAWA,GAAI,cAAGF,EAAOC,GAAK,GACpD,EAGME,EAAQ,yCAAG,WAAOnB,GAAI,mFACrBA,EAAK,CAAD,gDACQ,GAAjBG,GAAW,GAEO,eAAdH,EAAKoB,MAAuC,cAAdpB,EAAKoB,KAAoB,iBAIc,OAHjEC,EAAO,IAAIC,UACZC,OAAO,OAAQvB,GACpBqB,EAAKE,OAAO,gBAAiB1B,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAY2B,6BACzCH,EAAKE,OAAO,aAAc1B,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAY4B,iCAAiC,mBAGnDC,MAAM7B,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAY8B,8BAA+B,CACjEC,OAAQ,OACRC,KAAMR,IACL,KAAD,GAHO,OAAHS,EAAG,iBAIYA,EAAIC,OAAO,KAAD,GAAzBC,EAAM,OACZ/B,EAAQ+B,EAAOC,IAAIC,YAAY,kDAE/BC,EAAAA,GAAAA,MAAY,0CAA0C,gCAGxDA,EAAAA,GAAAA,MAAY,gDAAgD,QAE9DhC,GAAW,GAAO,0DACnB,gBAxBa,sCA2BRiC,EAAU,yCAAG,WAAOtB,GAAC,oFACN,GAAnBA,EAAEuB,kBACEnC,EAAQ,CAAD,wCAASiC,EAAAA,GAAAA,MAAY,2CAAyC,UACpEnC,EAAK,CAAD,wCAASmC,EAAAA,GAAAA,MAAY,qCAAmC,OAEP,GAAlD/B,EAAuDK,EAAvDL,UAAWC,EAA4CI,EAA5CJ,SAAUC,EAAkCG,EAAlCH,MAAOC,EAA2BE,EAA3BF,SAAUC,EAAiBC,EAAjBD,aAEzCJ,GAAcC,GAAaC,GAAUC,GAAaC,EAAY,yCAC1D2B,EAAAA,GAAAA,MAAY,4BAA0B,YAE3C/B,EAAUkC,OAAS,GAAC,0CACfH,EAAAA,GAAAA,MAAY,kDAAgD,aAEjE9B,EAASiC,OAAS,GAAC,0CACdH,EAAAA,GAAAA,MAAY,iDAA+C,aAEhE5B,EAAS+B,OAAS,GAAC,0CACdH,EAAAA,GAAAA,MAAY,gDAA8C,WAE/D5B,IAAaC,EAAY,0CACpB2B,EAAAA,GAAAA,MAAY,2BAAyB,mCAItCA,EAAAA,GAAAA,QACJvC,EAAAA,EAAAA,KAAW,iBAAkB,CAC3BQ,UAAAA,EACAC,SAAAA,EACAC,MAAAA,EACAC,SAAAA,EACAgC,IAAKvC,IAEP,CACEwC,QAAS,sBACTC,QAAS,+BACTC,MAAO,4BAET,KAAD,GACD/B,EAAS,UAAU,mDAEnBwB,EAAAA,GAAAA,MAAY,0CACZQ,QAAQD,MAAM,EAAD,IAAQ,2DAExB,gBA3Ce,sCA6ChB,OAEE,oBAASE,UAAU,+BAA8B,UAC/C,iBAAKA,UAAU,iCAAgC,WAG7C,eAAIA,UAAU,eAAc,SAAC,aAC7B,kBAAMC,SAAUT,EAAYQ,UAAU,gBAAe,WACnD,kBACExB,KAAK,OACLJ,KAAK,YACL4B,UAAU,aACVE,YAAY,wBACZ7B,MAAOR,EAAYL,UACnB2C,SAAUlC,EACVmC,UAAQ,KAEV,kBACE5B,KAAK,OACLJ,KAAK,WACL4B,UAAU,aACVE,YAAY,uBACZ7B,MAAOR,EAAYJ,SACnB0C,SAAUlC,EACVmC,UAAQ,KAEV,kBACE5B,KAAK,QACLJ,KAAK,QACL4B,UAAU,aACVE,YAAY,mBACZ7B,MAAOR,EAAYH,MACnByC,SAAUlC,EACVmC,UAAQ,KAEV,kBACE5B,KAAK,OACLJ,KAAK,cACLiC,GAAG,cACHL,UAAU,aACVM,OAAO,wBACPH,SAAU,SAACjC,GAAC,OAAKK,EAASL,EAAEC,OAAOoC,MAAM,GAAG,KAE9C,kBACE/B,KAAK,WACLJ,KAAK,WACL4B,UAAU,aACVE,YAAY,sBACZ7B,MAAOR,EAAYF,SACnBwC,SAAUlC,EACVmC,UAAQ,KAEV,kBACE5B,KAAK,WACLJ,KAAK,eACL4B,UAAU,aACVE,YAAY,wBACZ7B,MAAOR,EAAYD,aACnBuC,SAAUlC,EACVmC,UAAQ,KAEV,mBAAQ5B,KAAK,SAASwB,UAAU,eAAeQ,SAAUlD,EAAQ,SAAC,gBAIpE,yBAAG,kBACe,KAChB,SAAC,KAAO,CAAC0C,UAAU,aAAaS,GAAI,SAAS,SAAC,eAIhD,SAAC,KAAI,CAACA,GAAG,IAAIT,UAAU,eAAc,SAAC,4BAI9C,C","sources":["pages/Register.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\nimport \"../styles/register.css\";\r\nimport axios from \"axios\";\r\nimport toast from \"react-hot-toast\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_SERVER_DOMAIN;\r\n\r\nfunction Register() {\r\n  const [file, setFile] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [formDetails, setFormDetails] = useState({\r\n    firstname: \"\",\r\n    lastname: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confpassword: \"\",\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // Handle input changes\r\n  const inputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormDetails((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  // Upload profile image to Cloudinary\r\n  const onUpload = async (file) => {\r\n    if (!file) return;\r\n    setLoading(true);\r\n\r\n    if (file.type === \"image/jpeg\" || file.type === \"image/png\") {\r\n      const data = new FormData();\r\n      data.append(\"file\", file);\r\n      data.append(\"upload_preset\", process.env.REACT_APP_CLOUDINARY_PRESET);\r\n      data.append(\"cloud_name\", process.env.REACT_APP_CLOUDINARY_CLOUD_NAME);\r\n\r\n      try {\r\n        const res = await fetch(process.env.REACT_APP_CLOUDINARY_BASE_URL, {\r\n          method: \"POST\",\r\n          body: data,\r\n        });\r\n        const result = await res.json();\r\n        setFile(result.url.toString());\r\n      } catch (error) {\r\n        toast.error(\"Image upload failed. Please try again.\");\r\n      }\r\n    } else {\r\n      toast.error(\"Please select an image in jpeg or png format\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  // Handle form submit\r\n  const formSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (loading) return toast.error(\"Image upload in progress. Please wait.\");\r\n    if (!file) return toast.error(\"Please upload a profile picture.\");\r\n\r\n    const { firstname, lastname, email, password, confpassword } = formDetails;\r\n\r\n    if (!firstname || !lastname || !email || !password || !confpassword) {\r\n      return toast.error(\"All fields are required\");\r\n    }\r\n    if (firstname.length < 3) {\r\n      return toast.error(\"First name must be at least 3 characters long\");\r\n    }\r\n    if (lastname.length < 3) {\r\n      return toast.error(\"Last name must be at least 3 characters long\");\r\n    }\r\n    if (password.length < 5) {\r\n      return toast.error(\"Password must be at least 5 characters long\");\r\n    }\r\n    if (password !== confpassword) {\r\n      return toast.error(\"Passwords do not match\");\r\n    }\r\n\r\n    try {\r\n      await toast.promise(\r\n        axios.post(\"/user/register\", {\r\n          firstname,\r\n          lastname,\r\n          email,\r\n          password,\r\n          pic: file,\r\n        }),\r\n        {\r\n          pending: \"Registering user...\",\r\n          success: \"User registered successfully\",\r\n          error: \"Unable to register user\",\r\n        }\r\n      );\r\n      navigate(\"/login\");\r\n    } catch (error) {\r\n      toast.error(\"Registration failed. Please try again.\");\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    \r\n    <section className=\"register-section flex-center\">\r\n      <div className=\"register-container flex-center\">\r\n        \r\n\r\n        <h2 className=\"form-heading\">Sign Up</h2>\r\n        <form onSubmit={formSubmit} className=\"register-form\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"firstname\"\r\n            className=\"form-input\"\r\n            placeholder=\"Enter your first name\"\r\n            value={formDetails.firstname}\r\n            onChange={inputChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"lastname\"\r\n            className=\"form-input\"\r\n            placeholder=\"Enter your last name\"\r\n            value={formDetails.lastname}\r\n            onChange={inputChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            className=\"form-input\"\r\n            placeholder=\"Enter your email\"\r\n            value={formDetails.email}\r\n            onChange={inputChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"file\"\r\n            name=\"profile-pic\"\r\n            id=\"profile-pic\"\r\n            className=\"form-input\"\r\n            accept=\"image/png, image/jpeg\"\r\n            onChange={(e) => onUpload(e.target.files[0])}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            className=\"form-input\"\r\n            placeholder=\"Enter your password\"\r\n            value={formDetails.password}\r\n            onChange={inputChange}\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"confpassword\"\r\n            className=\"form-input\"\r\n            placeholder=\"Confirm your password\"\r\n            value={formDetails.confpassword}\r\n            onChange={inputChange}\r\n            required\r\n          />\r\n          <button type=\"submit\" className=\"btn form-btn\" disabled={loading}>\r\n            Sign Up\r\n          </button>\r\n        </form>\r\n        <p>\r\n          Already a user?{\" \"}\r\n          <NavLink className=\"login-link\" to={\"/login\"}>\r\n            Log in\r\n          </NavLink>\r\n        </p>\r\n        <Link to=\"/\" className=\"btn home-btn\">‚Üê Back to Home</Link>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"names":["axios","process","REACT_APP_SERVER_DOMAIN","useState","file","setFile","loading","setLoading","firstname","lastname","email","password","confpassword","formDetails","setFormDetails","navigate","useNavigate","inputChange","e","target","name","value","prev","onUpload","type","data","FormData","append","REACT_APP_CLOUDINARY_PRESET","REACT_APP_CLOUDINARY_CLOUD_NAME","fetch","REACT_APP_CLOUDINARY_BASE_URL","method","body","res","json","result","url","toString","toast","formSubmit","preventDefault","length","pic","pending","success","error","console","className","onSubmit","placeholder","onChange","required","id","accept","files","disabled","to"],"sourceRoot":""}