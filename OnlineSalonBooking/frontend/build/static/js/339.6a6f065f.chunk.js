"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[339],{1339:(e,s,l)=>{l.r(s),l.d(s,{default:()=>v});var n=l(5043),i=l(2555),t=(l(2797),l(9722)),a=l(2339),r=l(4960),o=l(579);const c=e=>{let{setModalOpen:s,ele:l}=e;const[c,d]=(0,n.useState)({date:"",time:""}),h=e=>{const{name:s,value:l}=e.target;d((0,i.A)((0,i.A)({},c),{},{[s]:l}))};return(0,o.jsx)("div",{className:"modal flex-center",children:(0,o.jsxs)("div",{className:"modal__content",children:[(0,o.jsx)("h2",{className:"page-heading",children:"Book Salon Appointment"}),(0,o.jsx)(r.WQq,{onClick:()=>s(!1),className:"close-btn"}),(0,o.jsx)("div",{className:"register-container flex-center book",children:(0,o.jsxs)("form",{className:"register-form",children:[(0,o.jsx)("input",{type:"date",name:"date",className:"form-input",value:c.date,onChange:h,min:(new Date).toISOString().split("T")[0]}),(0,o.jsx)("input",{type:"time",name:"time",className:"form-input",value:c.time,onChange:h}),(0,o.jsx)("button",{type:"submit",className:"btn form-btn",onClick:async e=>{e.preventDefault();try{var n,i,r;if(!c.date||!c.time)return a.Ay.error("Please select date and time");const e=new Date(c.date),o=new Date;if(o.setHours(0,0,0,0),e<=o)return a.Ay.error("Please select a future date");await a.Ay.promise(t.A.post("/api/appointment/book",{stylistId:null===l||void 0===l||null===(n=l.userId)||void 0===n?void 0:n._id,date:c.date,time:c.time,stylistName:"".concat(null===l||void 0===l||null===(i=l.userId)||void 0===i?void 0:i.firstname," ").concat(null===l||void 0===l||null===(r=l.userId)||void 0===r?void 0:r.lastname)},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),{success:"Appointment booked successfully",error:"Unable to book appointment",loading:"Booking appointment..."}),s(!1)}catch(o){a.Ay.error("Error while booking")}},children:"Book"})]})})]})})},d=e=>{var s,l,i,t;let{ele:r}=e;const[d,h]=(0,n.useState)(!1),[m]=(0,n.useState)(localStorage.getItem("token")||"");return(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("div",{className:"card-img flex-center",children:(0,o.jsx)("img",{src:(null===r||void 0===r||null===(s=r.userId)||void 0===s?void 0:s.pic)||"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg",alt:"profile"})}),(0,o.jsx)("h3",{className:"card-name",children:(null===r||void 0===r||null===(l=r.userId)||void 0===l?void 0:l.firstname)+" "+(null===r||void 0===r||null===(i=r.userId)||void 0===i?void 0:i.lastname)}),(0,o.jsxs)("p",{className:"specialization",children:[(0,o.jsx)("strong",{children:"Specialization: "}),null===r||void 0===r?void 0:r.specialization]}),(0,o.jsxs)("p",{className:"experience",children:[(0,o.jsx)("strong",{children:"Experience: "}),null===r||void 0===r?void 0:r.experience," yrs"]}),(0,o.jsxs)("p",{className:"fees",children:[(0,o.jsx)("strong",{children:"Rate per service: "}),"\u20b9 ",null===r||void 0===r?void 0:r.fees]}),(0,o.jsxs)("p",{className:"phone",children:[(0,o.jsx)("strong",{children:"Phone: "}),null===r||void 0===r||null===(t=r.userId)||void 0===t?void 0:t.mobile]}),(0,o.jsx)("button",{className:"btn appointment-btn",onClick:()=>{if(!m)return a.oR.error("You must log in first");h(!0)},children:"Book Appointment"}),d&&(0,o.jsx)(c,{setModalOpen:h,ele:r})]})};var h=l(5560),m=l(8114),x=l(8271),j=l(9456),u=l(5089),p=l(6760);const v=()=>{const[e,s]=(0,n.useState)([]),l=(0,j.wA)(),{loading:i}=(0,j.d4)(e=>e.root),a=(0,n.useCallback)(async()=>{l((0,u.r1)(!0));try{console.log("Fetching stylists from:","/api/stylist/getall");const e=await t.A.get("/api/stylist/getall");if(console.log("Stylists API response:",e),console.log("Stylists data:",e.data),Array.isArray(e.data)){const l=e.data.filter(e=>e.userId&&e.userId.firstname&&e.userId.lastname);console.log("Valid stylists:",l),s(l)}else console.error("Unexpected data format:",e.data),s([])}catch(i){var e,n;console.error("Error fetching stylists:",i),console.error("Error details:",null===(e=i.response)||void 0===e?void 0:e.data),console.error("Error status:",null===(n=i.response)||void 0===n?void 0:n.status),s([])}finally{l((0,u.r1)(!1))}},[l]);return(0,n.useEffect)(()=>{a()},[a]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.A,{}),i&&(0,o.jsx)(x.A,{}),!i&&(0,o.jsxs)("section",{className:"container stylists",children:[(0,o.jsx)("h2",{className:"page-heading",children:"Our Stylists"}),e.length>0?(0,o.jsx)("div",{className:"stylists-card-container",children:e.map(e=>(0,o.jsx)(d,{ele:e},e._id))}):(0,o.jsx)(p.A,{})]}),(0,o.jsx)(h.A,{})]})}},2797:()=>{},5560:(e,s,l)=>{l.d(s,{A:()=>r});l(5043);var n=l(5369),i=l(9776),t=l(5475),a=l(579);const r=()=>(0,a.jsxs)("footer",{children:[(0,a.jsx)("div",{className:"footer-main",children:(0,a.jsxs)("div",{className:"footer-content",children:[(0,a.jsxs)("div",{className:"footer-section company-info",children:[(0,a.jsx)("h3",{children:"GlamourGlow"}),(0,a.jsx)("p",{children:"Where beauty meets artistry. We create timeless looks that enhance your natural beauty and boost your confidence."}),(0,a.jsxs)("div",{className:"social-links",children:[(0,a.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",className:"social-icon facebook",children:(0,a.jsx)(n.ok6,{})}),(0,a.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noreferrer",className:"social-icon instagram",children:(0,a.jsx)(n.ao$,{})}),(0,a.jsx)("a",{href:"https://www.youtube.com/",target:"_blank",rel:"noreferrer",className:"social-icon youtube",children:(0,a.jsx)(n.Vk6,{})})]})]}),(0,a.jsxs)("div",{className:"footer-section",children:[(0,a.jsx)("h4",{children:"Quick Links"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)(t.k2,{to:"/",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsx)(t.k2,{to:"/stylists",children:"Our Stylists"})}),(0,a.jsx)("li",{children:(0,a.jsx)(t.k2,{to:"/profile",children:"My Profile"})}),(0,a.jsx)("li",{children:(0,a.jsx)(i.Vq,{to:"/#about",children:"About Us"})})]})]}),(0,a.jsxs)("div",{className:"footer-section",children:[(0,a.jsx)("h4",{children:"Our Services"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"Hair Styling"}),(0,a.jsx)("li",{children:"Hair Coloring"}),(0,a.jsx)("li",{children:"Facial Treatments"}),(0,a.jsx)("li",{children:"Manicure & Pedicure"}),(0,a.jsx)("li",{children:"Bridal Makeup"}),(0,a.jsx)("li",{children:"Spa Treatments"})]})]}),(0,a.jsxs)("div",{className:"footer-section contact-info",children:[(0,a.jsx)("h4",{children:"Contact Info"}),(0,a.jsxs)("div",{className:"contact-item",children:[(0,a.jsx)(n.vq8,{className:"contact-icon"}),(0,a.jsx)("span",{children:"Ruhuna Engineering,Hapugala, Galle"})]}),(0,a.jsxs)("div",{className:"contact-item",children:[(0,a.jsx)(n.Cab,{className:"contact-icon"}),(0,a.jsx)("span",{children:"+94768810026"})]}),(0,a.jsxs)("div",{className:"contact-item",children:[(0,a.jsx)(n.maD,{className:"contact-icon"}),(0,a.jsx)("span",{children:"shimrinsiraj@gmail.com"})]}),(0,a.jsxs)("div",{className:"contact-item",children:[(0,a.jsx)(n.w_X,{className:"contact-icon"}),(0,a.jsx)("span",{children:"Mon-Sat: 9AM-8PM, Sun: 10AM-6PM"})]})]})]})}),(0,a.jsx)("div",{className:"footer-bottom",children:(0,a.jsxs)("div",{className:"footer-bottom-content",children:[(0,a.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," SM.SHIMRIN. All rights reserved."]}),(0,a.jsxs)("p",{children:["Crafted with \u2764\ufe0f by"," ",(0,a.jsx)("a",{href:"https://www.linkedin.com/in/smrn01223?lipi=urn%3Ali%3Apage%3Ad_flagship3_profile_view_base_contact_details%3B82T%2F4L6fSImgvjCLXYHF9Q%3D%3D",target:"_blank",rel:"noreferrer",children:"SHIMRIN"})]})]})})]})},6760:(e,s,l)=>{l.d(s,{A:()=>i});l(5043);var n=l(579);const i=()=>(0,n.jsx)("h2",{className:"nothing flex-center",children:"Nothing to show"})},8114:(e,s,l)=>{l.d(s,{A:()=>m});var n=l(5043),i=l(3216),t=l(5475),a=l(9456),r=l(5089),o=l(1009),c=l(5922),d=l(7070),h=l(579);const m=()=>{const[e,s]=(0,n.useState)(!1),l=(0,a.wA)(),m=(0,i.Zp)(),[x]=(0,n.useState)(localStorage.getItem("token")||""),[j]=(0,n.useState)(localStorage.getItem("token")?(0,d.A)(localStorage.getItem("token")):"");return(0,h.jsxs)("header",{children:[(0,h.jsxs)("nav",{className:e?"nav-active":"",children:[(0,h.jsx)("h2",{className:"nav-logo",children:(0,h.jsx)(t.k2,{to:"/",children:"SalonBooker"})}),(0,h.jsxs)("ul",{className:"nav-links",children:[(0,h.jsx)("li",{children:(0,h.jsx)(t.k2,{to:"/",children:"Home"})}),x&&j.isAdmin?null:(0,h.jsx)("li",{children:(0,h.jsx)(t.k2,{to:"/stylists",children:"Stylists"})}),x&&j.isAdmin&&(0,h.jsx)("li",{children:(0,h.jsx)(t.k2,{to:"/dashboard/users",children:"Dashboard"})}),x&&!j.isAdmin&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("li",{children:(0,h.jsx)(t.k2,{to:"/applyforstylist",children:"Apply for Stylist"})}),(0,h.jsx)("li",{children:(0,h.jsx)(t.k2,{to:"/profile",children:"Profile"})})]}),x?(0,h.jsx)("li",{children:(0,h.jsx)("span",{className:"btn",onClick:()=>{l((0,r.iA)({})),localStorage.removeItem("token"),m("/login")},children:"Logout"})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("li",{children:(0,h.jsx)(t.k2,{className:"btn",to:"/login",children:"Login"})}),(0,h.jsx)("li",{children:(0,h.jsx)(t.k2,{className:"btn",to:"/register",children:"SignUp"})})]})]})]}),(0,h.jsxs)("div",{className:"menu-icons",children:[!e&&(0,h.jsx)(o.ND1,{className:"menu-open",onClick:()=>s(!0)}),e&&(0,h.jsx)(c.clO,{className:"menu-close",onClick:()=>s(!1)})]})]})}}}]);
//# sourceMappingURL=339.6a6f065f.chunk.js.map