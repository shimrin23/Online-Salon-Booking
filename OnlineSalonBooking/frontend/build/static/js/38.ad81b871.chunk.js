"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[38],{4971:function(e,r,t){var n=t(4165),a=t(5861),s=t(3263);s.Z.defaults.baseURL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SERVER_DOMAIN;var o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get(r,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("API fetch error:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}();r.Z=o},4038:function(e,r,t){t.r(r);var n=t(4165),a=t(5861),s=t(4942),o=t(1413),c=t(9439),i=t(2791),u=t(7689),l=t(1087),p=(t(1734),t(3263)),d=t(3402),m=t(9434),f=t(5318),h=t(456),g=t(4971),v=t(184);p.Z.defaults.baseURL={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SERVER_DOMAIN,r.default=function(){var e=(0,m.I0)(),r=(0,i.useState)({email:"",password:""}),t=(0,c.Z)(r,2),S=t[0],_=t[1],E=(0,u.s0)(),Z=function(e){var r=e.target,t=r.name,n=r.value;_((0,o.Z)((0,o.Z)({},S),{},(0,s.Z)({},t,n)))},b=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t){var a,s,o,c,i,u,l;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),r.prev=1,a=S.email,s=S.password,a&&s){r.next=5;break}return r.abrupt("return",d.ZP.error("Input field should not be empty"));case 5:if(!(s.length<5)){r.next=7;break}return r.abrupt("return",d.ZP.error("Password must be at least 5 characters long"));case 7:return r.next=9,d.ZP.promise(p.Z.post("/user/login",{email:a,password:s}),{pending:"Logging in...",success:"Login successful",error:"Unable to login user",loading:"Logging user..."});case 9:return o=r.sent,c=o.data,localStorage.setItem("token",c.token),i=(0,h.Z)(c.token),u=i.userId,r.next=16,(0,g.Z)("/user/getuser/".concat(u));case 16:l=r.sent,e((0,f.ps)(l)),E("/"),r.next=25;break;case 21:r.prev=21,r.t0=r.catch(1),d.ZP.error("Login failed. Please check your credentials."),console.error(r.t0);case 25:case"end":return r.stop()}}),r,null,[[1,21]])})));return function(e){return r.apply(this,arguments)}}();return(0,v.jsx)("section",{className:"register-section flex-center",children:(0,v.jsxs)("div",{className:"register-container flex-center",children:[(0,v.jsx)("h2",{className:"form-heading",children:"Sign In"}),(0,v.jsxs)("form",{onSubmit:b,className:"register-form",children:[(0,v.jsx)("input",{type:"email",name:"email",className:"form-input",placeholder:"Enter your email",value:S.email,onChange:Z}),(0,v.jsx)("input",{type:"password",name:"password",className:"form-input",placeholder:"Enter your password",value:S.password,onChange:Z}),(0,v.jsx)("button",{type:"submit",className:"btn form-btn",children:"Sign In"})]}),(0,v.jsxs)("p",{children:["Not a user?"," ",(0,v.jsx)(l.OL,{className:"login-link",to:"/register",children:"Register"})]}),(0,v.jsx)(l.rU,{to:"/",className:"btn home-btn",children:"\u2190 Back to Home"})]})})}},1734:function(){}}]);
//# sourceMappingURL=38.ad81b871.chunk.js.map